<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<IP>
    <About>Debug interface</About>
    <AboutCH>调试接口</AboutCH>

   <!-- ModeLogicOperator for DEBUG -->
    <ModeLogicOperator Name="OR">
      <Mode Name="Debug interface" UserName="Debug interface" UserNameCH="调试接口">  
			  <ModeLogicOperator Name="XOR">
				  <Mode Name="SWD" UserName="SWD" UserNameCH="SWD">
					  <SignalLogicalOp Name="AND">
						  <Signal Name="JTMS_SWDIO"/>
						  <Signal Name="JTCK_SWCLK"/>
					  </SignalLogicalOp>
					  <Semaphore>SWD$IpInstance</Semaphore>
				  </Mode>
				  <Mode Name="JTAG (4pin)" UserName="JTAG (4pin)" UserNameCH="JTAG (4脚)">
					  <SignalLogicalOp Name="AND">
						  <Signal Name="JTMS_SWDIO"/>
						  <Signal Name="JTCK_SWCLK"/>
						  <Signal Name="JTDI"/>
						  <Signal Name="JTDO"/>
					  </SignalLogicalOp>
				  </Mode>
				  <Mode Name="JTAG (5pin)" UserName="JTAG (5pin)" UserNameCH="JTAG (5脚)">
					  <SignalLogicalOp Name="AND">
						  <Signal Name="JTMS_SWDIO"/>
						  <Signal Name="JTCK_SWCLK"/>
						  <Signal Name="JTDI"/>
						  <Signal Name="JTDO"/>
						  <Signal Name="NJTRST"/>
					  </SignalLogicalOp>
				  </Mode>
			  </ModeLogicOperator>			
	 </Mode>
      <Mode Name="SWO" UserName="SWO" UserNameCH="SWO">  
      	        <Condition Expression="SWD$IpInstance"
                    	                   Diagnostic="&quot;SWD&quot; must be selected as &quot;Debug interface&quot;" 
                    	                   DiagnosticCH="&quot;调试接口&quot;需设置为&quot;SWD&quot;"/>
			  <ModeLogicOperator Name="XOR">
				  <Mode Name="SWO" UserName="SWO" UserNameCH="SWO">
					  <SignalLogicalOp Name="AND">
						  <Signal Name="SWO"/>
					  </SignalLogicalOp>
				  </Mode>
			  </ModeLogicOperator>			
	 </Mode>
    </ModeLogicOperator>

    <!-- RefSignal for DEBUG -->
    <RefSignal Name="VS_VM" Virtual="true"/>
    
    <RefSignal IOMode="System" Name="JTMS_SWDIO"/>
    <RefSignal IOMode="System" Name="JTCK_SWCLK"/>
    <RefSignal IOMode="System" Name="JTDI"/>
    <RefSignal IOMode="System" Name="JTDO"/>
    <RefSignal IOMode="System" Name="NJTRST"/>
    <RefSignal IOMode="System" Name="SWO"/>
</IP>
