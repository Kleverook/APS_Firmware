<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<IP>
  <About>Universal Serial Bus On-The-Go Full-Speed</About>
  <AboutCH>USB OTG 全速</AboutCH>
  
  <RefParameter Comment="WakeUp Interrupt" CommentCH="唤醒中断" DefaultValue="ENABLE" Group="General" GroupCH="通用参数" Name="WakeUp_Interrupt" Type="list" Visible="false">
		<Condition Diagnostic="" Expression = "$IpInstance_WAKEUP"/>
		<PossibleValue Comment="Enable" CommentCH="开启" Value="ENABLE"/>
	</RefParameter>
	<RefParameter Comment="WakeUp Interrupt" CommentCH="唤醒中断" DefaultValue="DISABLE" Group="General" GroupCH="通用参数" Name="WakeUp_Interrupt" Type="list" Visible="false">
		<PossibleValue Comment="Disable" CommentCH="关闭" Value="DISABLE"/>
	</RefParameter>
	
  <RefMode Name="Host_Only" BaseMode="Mode">
		<!-- Basic Parameters -->
		<Parameter Name="WakeUp_Interrupt"/>
  </RefMode>
  <RefMode Name="Device_Only" BaseMode="Mode">
		<!-- Basic Parameters -->
		<Parameter Name="WakeUp_Interrupt"/>
  </RefMode>
		
	<ModeLogicOperator Name="OR">
		<Mode Name="Mode" UserName="Mode" UserNameCH="模式">
			<ModeLogicOperator Name="XOR">
				<Mode Name="Host_Only" UserName="Host Only" UserNameCH="主机">					
					<SignalLogicalOp Name="AND">
						<Signal Name="D+"/>
						<Signal Name="D-"/>
					</SignalLogicalOp>
					<Semaphore>$IpInstance_HOST</Semaphore>	
					<Semaphore>USB_OTG_FS</Semaphore>				
				</Mode>
				<Mode Name="Device_Only" UserName="Device Only" UserNameCH="设备">
					<SignalLogicalOp Name="AND">
						<Signal Name="D+"/>
						<Signal Name="D-"/>
					</SignalLogicalOp>
					<Semaphore>$IpInstance_DEVICE</Semaphore>
					<Semaphore>USB_OTG_FS</Semaphore>
				</Mode>
			</ModeLogicOperator>			
		</Mode>
   
		<Mode Name="Activate_SOF" UserName="Activate SOF" UserNameCH="开启SOF">
			<Condition Expression="USB_OTG_FS"
        	  	                   Diagnostic="USB &quot;Mode&quot; must be selected first" 
        	  	                   DiagnosticCH="需要先选择 &quot;模式&quot;"/>
			<ModeLogicOperator Name="XOR">
				<Mode Name="Activate_SOF" UserName="Activate SOF" UserNameCH="开启SOF">
					<SignalLogicalOp Name="AND">				
						<Signal Name="SOF"/>				
					</SignalLogicalOp>
				</Mode>			
			</ModeLogicOperator>
			<Semaphore>$IpInstance_SOF</Semaphore>
		</Mode>
		
		<Mode Name="Activate_VBUS" UserName="Activate VBUS" UserNameCH="开启VBUS">
			<Condition Expression="USB_OTG_FS"
        	  	                   Diagnostic="USB &quot;Mode&quot; must be selected first" 
        	  	                   DiagnosticCH="需要先选择 &quot;模式&quot;"/>
			<ModeLogicOperator Name="XOR">
				<Mode Name="Activate_VBUS" UserName="Activate VBUS" UserNameCH="开启VBUS">
					<SignalLogicalOp Name="AND">				
						<Signal Name="VBUS"/>				
					</SignalLogicalOp>
				</Mode>			
			</ModeLogicOperator>
			<Semaphore>$IpInstance_VBUS</Semaphore>
		</Mode>
		
		<Mode Name="Activate_OE" UserName="Activate OE" UserNameCH="开启OE">
			<Condition Expression="USB_OTG_FS"
        	  	                   Diagnostic="USB &quot;Mode&quot; must be selected first" 
        	  	                   DiagnosticCH="需要先选择 &quot;模式&quot;"/>
			<ModeLogicOperator Name="XOR">
				<Mode Name="Activate_OE" UserName="Activate OE" UserNameCH="开启OE">
					<SignalLogicalOp Name="AND">				
						<Signal Name="OE"/>				
					</SignalLogicalOp>
				</Mode>			
			</ModeLogicOperator>
			<Semaphore>$IpInstance_OE</Semaphore>
		</Mode>
		
		<Mode Name="Activate_ID" UserName="Activate ID" UserNameCH="开启ID">
			<Condition Expression="USB_OTG_FS"
        	  	                   Diagnostic="USB &quot;Mode&quot; must be selected first" 
        	  	                   DiagnosticCH="需要先选择 &quot;模式&quot;"/>
			<ModeLogicOperator Name="XOR">
				<Mode Name="Activate_ID" UserName="Activate ID" UserNameCH="开启ID">
					<SignalLogicalOp Name="AND">				
						<Signal Name="ID"/>				
					</SignalLogicalOp>
				</Mode>			
			</ModeLogicOperator>
			<Semaphore>$IpInstance_ID</Semaphore>
		</Mode>
		
		<Mode Name="WakeUp_Interrupt" UserName="WankeUp Enable" UserNameCH="唤醒使能">
			<Condition Expression="USB_OTG_FS"
        	  	                   Diagnostic="USB &quot;Mode&quot; must be selected first" 
        	  	                   DiagnosticCH="需要先选择 &quot;模式&quot;"/>
			<ModeLogicOperator Name="XOR">
				<Mode Name="WakeUp_Interrupt" UserName="WankeUp Enable" UserNameCH="唤醒使能">
					<SignalLogicalOp Name="AND">				
						<Signal Name="VS_WAKEUP"/>				
					</SignalLogicalOp>
				</Mode>			
			</ModeLogicOperator>
			<Semaphore>$IpInstance_WAKEUP</Semaphore>
		</Mode>
	</ModeLogicOperator>
	
	<RefSignal IOMode="System" Name="D+"/>
	<RefSignal IOMode="System" Name="D-"/>
	<RefSignal IOMode="MuxOutputPushPull" Name="SOF"/>
	<RefSignal IOMode="MuxOutputPushPull" Name="VBUS"/>
	<RefSignal IOMode="MuxOutputPushPull" Name="OE"/>
	<RefSignal IOMode="MuxOutputPushPull" Name="ID"/>
	<RefSignal Name="VS_WAKEUP"  Virtual="true"/>

</IP>
