<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<IP>
    <About>SYSTEM</About>
    <AboutCH>SYSTEM配置</AboutCH>

<!-- Generic RefParameters for SYSTEM Modes -->
 
    <RefParameter Name="Time_Base" Comment="Timebase Source" CommentCH="时基源选择" DefaultValue="NONE" Type="list" Group="" Visible="false">
        <PossibleValue Comment="Disable" CommentCH="关闭" Value="NONE" />
    </RefParameter>
     <RefParameter Name="Time_Base" Comment="Timebase Source" CommentCH="时基源选择" DefaultValue="SysTick" Type="list" Group="" Visible="false">
        <Condition Diagnostic="" Expression="TimeBase_SysTick_$IpInstance"/>
        <PossibleValue Comment="SysTick" CommentCH="SysTick" Value="SysTick" />
    </RefParameter>
    <RefParameter Name="Time_Base" Comment="Timebase Source" CommentCH="时基源选择" DefaultValue="TMR1" Type="list" Group="" Visible="false">
        <Condition Diagnostic="" Expression="TimeBase_TMR1_$IpInstance"/>
        <PossibleValue Comment="TMR1" CommentCH="TMR1" Value="TMR1" />
    </RefParameter>
    <RefParameter Name="Time_Base" Comment="Timebase Source" CommentCH="时基源选择" DefaultValue="TMR3" Type="list" Group="" Visible="false">
        <Condition Diagnostic="" Expression="TimeBase_TMR3_$IpInstance"/>
        <PossibleValue Comment="TMR3" CommentCH="TMR3" Value="TMR3" />
    </RefParameter>
    <RefParameter Name="Time_Base" Comment="Timebase Source" CommentCH="时基源选择" DefaultValue="TMR6" Type="list" Group="" Visible="false">
        <Condition Diagnostic="" Expression="TimeBase_TMR6_$IpInstance"/>
        <PossibleValue Comment="TMR6" CommentCH="TMR6" Value="TMR6" />
    </RefParameter>
    <RefParameter Name="Time_Base" Comment="Timebase Source" CommentCH="时基源选择" DefaultValue="TMR14" Type="list" Group="" Visible="false">
        <Condition Diagnostic="" Expression="TimeBase_TMR14_$IpInstance"/>
        <PossibleValue Comment="TMR14" CommentCH="TMR14" Value="TMR14" />
    </RefParameter>
    <RefParameter Name="Time_Base" Comment="Timebase Source" CommentCH="时基源选择" DefaultValue="TMR15" Type="list" Group="" Visible="false">
        <Condition Diagnostic="" Expression="TimeBase_TMR15_$IpInstance"/>
        <PossibleValue Comment="TMR15" CommentCH="TMR15" Value="TMR15" />
    </RefParameter>
    <RefParameter Name="Time_Base" Comment="Timebase Source" CommentCH="时基源选择" DefaultValue="TMR16" Type="list" Group="" Visible="false">
        <Condition Diagnostic="" Expression="TimeBase_TMR16_$IpInstance"/>
        <PossibleValue Comment="TMR16" CommentCH="TMR16" Value="TMR16" />
    </RefParameter>
    <RefParameter Name="Time_Base" Comment="Timebase Source" CommentCH="时基源选择" DefaultValue="TMR17" Type="list" Group="" Visible="false">
        <Condition Diagnostic="" Expression="TimeBase_TMR17_$IpInstance"/>
        <PossibleValue Comment="TMR17" CommentCH="TMR17" Value="TMR17" />
    </RefParameter>
    
    <RefParameter Name="Delay_Mode" Comment="Delay Mode" CommentCH="延时模式" DefaultValue="Polling" Type="list" Group="Timebase Parameters" GroupCH="时基源参数">
        <Annotation Note="Interrupt：Accuracy of 1ms。 &lt;br&gt;Polling：  Accuracy of 0.01ms。&lt;br&gt;" 
        	  	                   NoteCH="中断方式：精度为1ms。 &lt;br&gt;轮询方式：精度为0.01ms。&lt;br&gt;"/>
        <Condition Diagnostic="" Expression="TimeBase_Enable_$IpInstance"/>
        <PossibleValue Comment="Interrupt" CommentCH="中断" Value="Interrupt" />
        <PossibleValue Comment="Polling" CommentCH="轮询" Value="Polling"/>
    </RefParameter>
    
    <RefParameter Name="UART_Printf" Comment="UART Printf" CommentCH="串口打印" DefaultValue="NONE" Type="list" Group="" Visible="false">
        <PossibleValue Comment="Disable" CommentCH="关闭" Value="NONE" />
    </RefParameter>
    <RefParameter Name="UART_Printf" Comment="UART Printf" CommentCH="串口打印" DefaultValue="USART1" Type="list" Group="" Visible="false">
        <Condition Diagnostic="" Expression="Printf_USART1_$IpInstance"/>
        <PossibleValue Comment="USART1" CommentCH="USART1" Value="USART1" />
    </RefParameter>
    <RefParameter Name="UART_Printf" Comment="UART Printf" CommentCH="串口打印" DefaultValue="USART2" Type="list" Group="" Visible="false">
        <Condition Diagnostic="" Expression="Printf_USART2_$IpInstance"/>
        <PossibleValue Comment="USART2" CommentCH="USART2" Value="USART2" />
    </RefParameter>
    
    <RefParameter Name="SysTick_Interrupt" Comment="SysTick_Interrupt" CommentCH="SysTick_Interrupt" DefaultValue="FALSE" Type="list" Unit=""  Group="SysTick Interrupt" GroupCH="SysTick中断" Visible="false">
        <PossibleValue Value="FALSE" Comment="Disable" CommentCH="关闭"/>
    </RefParameter>
     <RefParameter Name="SysTick_Interrupt" Comment="SysTick_Interrupt" CommentCH="SysTick_Interrupt" DefaultValue="TRUE" Type="list" Unit=""  Group="SysTick Interrupt" GroupCH="SysTick中断" Visible="false">
        <Condition Diagnostic="" Expression="SysTick_Interrupt_$IpInstance"/>
        <PossibleValue Value="TRUE" Comment="Enable" CommentCH="开启"/>
    </RefParameter>
    
     <RefParameter Name="SysTick_Interrupt_Sequence" Comment="SysTick Interrupt Sequence" CommentCH="SysTick中断频率" Max="100000" Min="10" DefaultValue="1000" Type="integer" Unit="Hz"  Group="SysTick Interrupt" GroupCH="SysTick中断" >
        <Condition Diagnostic="" Expression="SysTick_Interrupt_$IpInstance"/>
    </RefParameter>

<!-- ***********************************************************************************-->
<!--/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\-->
<!--/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/ REF MODE \/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\-->
<!--/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\-->
<!-- ***********************************************************************************-->
    <RefMode Name="Time_Base"  Abstract = "true">
    	      <Parameter Name="Time_Base"/>
    	      <Parameter Name="UART_Printf"/>
    	      <Parameter Name="Delay_Mode"/>
    	      <Parameter Name="SysTick_Interrupt"/>
    	      <Parameter Name="SysTick_Interrupt_Sequence"/>
    </RefMode>

    <ModeLogicOperator Name="OR"> 
     <Mode Name="Time_Base" UserName="Delay Timebase Source" UserNameCH="Delay时基源">
            <ModeLogicOperator Name="XOR">
                <Mode Name="SysTick" UserName="SysTick                               " UserNameCH="SysTick                               ">
                	  <Condition Expression="!SysTick_Interrupt_$IpInstance &amp; !Semaphore_Activated_FREERTOS"
                	  	                  Diagnostic="When SysTick Interrupt selected or FREERTOS is activated, this option is invalid." 
                	  	                  DiagnosticCH="SysTick中断启动时或者FREERTOS启动时，此项无效"/>
                	  <Semaphore>TimeBase_SysTick_$IpInstance</Semaphore>
                	  <Semaphore>TimeBase_Enable_$IpInstance</Semaphore>
                </Mode>
                <Mode Name="TMR1" UserName="TMR1" UserNameCH="TMR1">
                	   <Condition Expression="!Semaphore_ActivatedTMR1"
                	  	                  Diagnostic="TMR1 is already used" 
                	  	                  DiagnosticCH="TMR1已经被使用"/>
                	  <Semaphore>TimeBase_TMR1_$IpInstance</Semaphore>
                	  <Semaphore>TimeBase_Enable_$IpInstance</Semaphore>
                </Mode>
               
                <Mode Name="TMR3" UserName="TMR3" UserNameCH="TMR3">
                	   <Condition Expression="!Semaphore_ActivatedTMR3"
                	  	                  Diagnostic="TMR3 is already used" 
                	  	                  DiagnosticCH="TMR3已经被使用"/>
                	  <Semaphore>TimeBase_TMR3_$IpInstance</Semaphore>
                	  <Semaphore>TimeBase_Enable_$IpInstance</Semaphore>
                </Mode>
                
                <Mode Name="TMR6" UserName="TMR6" UserNameCH="TMR6">
                	   <Condition Expression="!Semaphore_ActivatedTMR6"
                	  	                  Diagnostic="TMR6 is already used" 
                	  	                  DiagnosticCH="TMR6已经被使用"/>
                	  <Semaphore>TimeBase_TMR6_$IpInstance</Semaphore>
                	  <Semaphore>TimeBase_Enable_$IpInstance</Semaphore>
                </Mode>
                
                <Mode Name="TMR14" UserName="TMR14" UserNameCH="TMR14">
                	   <Condition Expression="!Semaphore_ActivatedTMR14"
                	  	                  Diagnostic="TMR14 is already used" 
                	  	                  DiagnosticCH="TMR14已经被使用"/>
                	  <Semaphore>TimeBase_TMR14_$IpInstance</Semaphore>
                	  <Semaphore>TimeBase_Enable_$IpInstance</Semaphore>
                </Mode>
                
                <Mode Name="TMR15" UserName="TMR15" UserNameCH="TMR15">
                	   <Condition Expression="!Semaphore_ActivatedTMR15"
                	  	                  Diagnostic="TMR15 is already used" 
                	  	                  DiagnosticCH="TMR15已经被使用"/>
                	  <Semaphore>TimeBase_TMR15_$IpInstance</Semaphore>
                	  <Semaphore>TimeBase_Enable_$IpInstance</Semaphore>
                </Mode>
                
                <Mode Name="TMR16" UserName="TMR16" UserNameCH="TMR16">
                	   <Condition Expression="!Semaphore_ActivatedTMR16"
                	  	                  Diagnostic="TMR16 is already used" 
                	  	                  DiagnosticCH="TMR16已经被使用"/>
                	  <Semaphore>TimeBase_TMR16_$IpInstance</Semaphore>
                	  <Semaphore>TimeBase_Enable_$IpInstance</Semaphore>
                </Mode>
                
                <Mode Name="TMR17" UserName="TMR17" UserNameCH="TMR17">
                	   <Condition Expression="!Semaphore_ActivatedTMR17"
                	  	                  Diagnostic="TMR17 is already used" 
                	  	                  DiagnosticCH="TMR17已经被使用"/>
                	  <Semaphore>TimeBase_TMR17_$IpInstance</Semaphore>
                	  <Semaphore>TimeBase_Enable_$IpInstance</Semaphore>
                </Mode>
            </ModeLogicOperator>
     </Mode>
     
     <Mode Name="UART_Printf" UserName="UART Printf" UserNameCH="串口打印">
            <ModeLogicOperator Name="XOR">
                <Mode Name="USART1" UserName="USART1" UserNameCH="USART1">
                	   <Condition Expression="USART1_Asynchronous_TX"
                	  	                  Diagnostic="&quot;Asynchronous&quot; or &quot;Asynchronous Transmit Only&quot; must be actived in USART1" 
                	  	                  DiagnosticCH="USART1必须开启&quot;异步模式&quot;或者&quot;异步只发模式&quot;"/>
                	  <Semaphore>Printf_USART1_$IpInstance</Semaphore>
                	  <Semaphore>Printf_Enable_$IpInstance</Semaphore>
                </Mode>
                
                <Mode Name="USART2" UserName="USART2" UserNameCH="USART2">
                	   <Condition Expression="USART2_Asynchronous_TX"
                	  	                  Diagnostic="&quot;Asynchronous&quot; or &quot;Asynchronous Transmit Only&quot; must be actived in USART2" 
                	  	                  DiagnosticCH="USART2必须开启&quot;异步模式&quot;或者&quot;异步只发模式&quot;"/>
                	  <Semaphore>Printf_USART2_$IpInstance</Semaphore>
                	  <Semaphore>Printf_Enable_$IpInstance</Semaphore>
                </Mode>
            </ModeLogicOperator>
     </Mode>
     
     <Mode Name="SysTick_Interrupt" UserName="SysTick Interrupt" UserNameCH="SysTick中断">
            <Condition Expression="!TimeBase_SysTick_$IpInstance &amp; !Semaphore_Activated_FREERTOS"
                	  	                  Diagnostic="When Delay Timebase Source selects SysTick or FREERTOS is activated, this option is invalid." 
                	  	                  DiagnosticCH="Delay时基源选择为SysTick或者FREERTOS启动时，此项无效"/>
            <ModeLogicOperator Name="OR">
                <Mode Name="SysTick_Interrupt" UserName="SysTick Interrupt" UserNameCH="SysTick中断">
                </Mode>
            </ModeLogicOperator>
            <Semaphore>SysTick_Interrupt_$IpInstance</Semaphore>
     </Mode>
    </ModeLogicOperator>
</IP>
